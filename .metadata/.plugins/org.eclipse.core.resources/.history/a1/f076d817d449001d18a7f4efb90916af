/*
 ============================================================================
 Name        : Struct.c
 Author      : Julián Schmidt
 Version     :
 Copyright   : Your copyright notice
 Description : Hello World in C, Ansi-style
 ============================================================================
 */

#include <stdio.h>
#include <stdlib.h>
#include "Input.h"

typedef struct {
	int day;
	int month;
	int year;
} eBirth;

typedef struct {
	char firstName[20];
	char lastName[20];
	char sex;
	eBirth birthDate;
} ePersona;

int createNewUser(ePersona *persona);

int main(void) {
	setbuf(stdout, NULL);

	ePersona miPersona;

	createNewUser(&miPersona);

	printf("%s %s %d/%d/%d", miPersona.firstName, miPersona.lastName,
			miPersona.birthDate.day, miPersona.birthDate.month,
			miPersona.birthDate.year);

	return EXIT_SUCCESS;
}

int createNewUser(ePersona *persona) {

	input_getStringletters("Ingrese el nombre: ", 9999, "Nombre invalido",
			persona->firstName, sizeof(persona->firstName));
	input_getStringletters("Ingrese el apellido: ", 9999, "apellido invalido",
			persona->lastName, sizeof(persona->lastName));
	input_getInt("Ingrese día: ", 9999, 01, 31, "Error",
			&persona->birthDate->day);
	input_getInt("Ingrese mes: ", 9999, 01, 12, "Error",
			persona->birthDate->month);
	input_getInt("Ingrese año: ", 9999, 1900, 2022, "Error",
			persona->birthDate->year);

	return 0;
}
